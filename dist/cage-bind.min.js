/* LogWeb v0.0.1 */
!function($){"use strict";$&&$.prototype.constructor!==jQuery&&console.error("The '$' is redundant.");var _map=function(a,b){var c=[];if(!a)return c;a.length||(a=[].concat(a));for(var d=0;d<a.length;d++){var e=a[d];c.push(b.call(e,e,d)||e)}return c},_find=function(a,b){if(a){a.length||(a=[].concat(a));for(var c=0;c<a.length;c++){var d=a[c];if(b.call(d,d))return d}}},_contains=function(a,b){return!!_find(a,b)},_createMap=function(){return Object.create(null)},_isDefined=function(a){return"undefined"!=typeof a},_isString=function(a){return"string"==typeof a},_lowercase=function(a){return _isString(a)?a.toLowerCase():a},_insertAfter=function(a,b){b.parentNode.insertBefore(a,b.nextSibling)},OPERATORS=_createMap();_map("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){OPERATORS[a]=!0});var ESCAPE={n:"\n",f:"\f",r:"\r",t:"	",v:"\x0B","'":"'",'"':'"'},Lexer=function(){};Lexer.prototype={constructor:Lexer,lex:function(a){for(this.text=a,this.index=0,this.tokens=[];this.index<this.text.length;){var b=this.text.charAt(this.index);if("'"===b||"'"===b)this.readString(b);else if(this.isNumber(b)||"."===b&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(b))this.readIdent();else if(this.is(b,"(){}[].,;:?"))this.tokens.push({index:this.index,text:b}),this.index++;else if(this.isWhitespace(b))this.index++;else{var c=b+this.peek(),d=c+this.peek(2),e=OPERATORS[b],f=OPERATORS[c],g=OPERATORS[d];if(e||f||g){var h=g?d:f?c:b;this.tokens.push({index:this.index,text:h,operator:!0}),this.index+=h.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){var b=a||1;return this.index+b<this.text.length?this.text.charAt(this.index+b):!1},isNumber:function(a){return a>="0"&&"9">=a&&"string"==typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"	"===a||"\n"===a||"\x0B"===a||"Â "===a},isIdent:function(a){return a>="a"&&"z">=a||a>="A"&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,c){c=c||this.index;var d=_isDefined(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c;throw"Lexer Error: "+a+" at column"+d+" in expression ["+this.text+"]."},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var c=_lowercase(this.text.charAt(this.index));if("."==c||this.isNumber(c))a+=c;else{var d=this.peek();if("e"==c&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&"e"==a.charAt(a.length-1))a+=c;else{if(!this.isExpOperator(c)||d&&this.isNumber(d)||"e"!=a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){for(var a=this.index;this.index<this.text.length;){var b=this.text.charAt(this.index);if(!this.isIdent(b)&&!this.isNumber(b))break;this.index++}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var c="",d=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index);if(d+=f,e){if("u"===f){var g=this.text.substring(this.index+1,this.index+5);g.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+g+"]"),this.index+=4,c+=String.fromCharCode(parseInt(g,16))}else{var h=ESCAPE[f];c+=h||f}e=!1}else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:d,constant:!0,value:c});c+=f}this.index++}this.throwError("Unterminated quote",b)}};var _lexer=new Lexer,_eval=function(expression,context){var tokens=_lexer.lex(expression),contextStr="context.",result=_map(tokens,function(a,b){return context&&a.identifier&&(0===b||tokens[b-1].operator)?contextStr+a.text:a.text});return eval(result.join(""))},LEFT="{{",RIGHT="}}",_getPlaceHolder=function(a){var b=[],c=a.split(LEFT);return _map(c,function(a){~a.indexOf(RIGHT)&&b.push(a.split(RIGHT)[0])}),b},_placeholderReplace=function(a,b){var c=a.textContent,d=_getPlaceHolder(c);_map(d,function(a){var d=_eval(a,b);c=c.replace(LEFT+a+RIGHT,d)}),a.textContent=c},_services={"cg-bind":function(a,b){this.textContent=_eval(a,b)}},_replaceAttributes=function(a,b){_map(a.attributes,function(c){_services.hasOwnProperty(c.name)&&_services[c.name].call(a,c.value,b)})},_replaceTextNode=function(a,b){return a.constructor===Text?(_placeholderReplace(a,b),!0):!1},_repeat=function(a,b,c){var d=b.split(/\s+/);if(!~d.indexOf("in")||3!==d.length)throw'invalid cg-repeat expression, it must be "xx in xxx"';var e=d[0],f={},g=_eval(d[2],c),h=function(a,b){_replaceTextNode(a,b)||(_replaceAttributes(a,b),_map(a.childNodes,function(a){h(a,b)}))};_map(g,function(b,c){b.$index=c;var d=a.cloneNode(!0);_insertAfter(d,a),f[e]=b,h(d,f)})},_bindOject=function(a,b){if(a&&!_replaceTextNode(a,b)){var c=function(a){return"cg-repeat"===a.name},d=a.attributes,e=_find(d,c);e?_repeat(a,e.value,b):(_replaceAttributes(a,b),_map(a.childNodes,function(a){_bindOject(a,b)}))}},_bind=function(a){var b=this;return b.map(function(){_bindOject(this,a)}),b};$?$.fn.extend({cbind:_bind}):window.CageBind=window.$=function(){function a(a){var b=this;b.length=a.length,_map(a,function(a,c){b[c]=a})}return a.prototype.map=function(a){return _map(this,a)},a.prototype.forEach=function(a){return this.map(a),this},a.prototype.cbind=_bind,function(b){var c;return c="string"==typeof b?document.querySelectorAll(b):b.length?b:[b],new a(c)}}()}(window.jQuery||window.$);